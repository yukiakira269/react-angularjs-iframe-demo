<!DOCTYPE html>
<html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>My AngularJS App</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="lib/html5-boilerplate/dist/css/normalize.css">
  <link rel="stylesheet" href="lib/html5-boilerplate/dist/css/main.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="app.css">
  <script src="lib/html5-boilerplate/dist/js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
  <ul class="menu">
    <li><a href="#!/view1">view1</a></li>
    <li><a href="#!/view2">view2</a></li>
    <li><a href="#!/iframes">iframe</a></li>
  </ul>

  <div ng-view></div>
  <div>AngularJS seed app: version<span app-version></span></div>

  <!-- iframe Parent -->
  <script>
    //Receiving messages from child (React) -> parent (Angular)
    const messageHandler = (msg) => {
      if (msg.data !== null && systemName.value != msg.data) {
        if (msg.origin.startsWith('http://localhost:3000')) {
          //Trigger input event to ensure two-way data-binding
          //The input element is hard-coded?
          var input = document.getElementById("systemName");
          input.value = msg.data;
          const event = new Event("input", { bubbles: true });
          input.dispatchEvent(event);
        } else {
          return;
        }
      }
      //If the state is the same, do nothing
      else {
        return;
      }
    }
    window.addEventListener('message', messageHandler, false);
  </script>



  <script src="lib/angular/angular.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
  <script src="lib/angular-route/angular-route.js"></script>
  <script src="app.js"></script>
  <script src="views/view1/view1.js"></script>
  <script src="views/view2/view2.js"></script>
  <script src="views/iframe/iframe.component.js"></script>
  <script src="controllers/DemoCtrl.js"></script>
  <script src="core/version/version.js"></script>
  <script src="core/version/version-directive.js"></script>
  <script src="core/version/interpolate-filter.js"></script>
</body>

</html>